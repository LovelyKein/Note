## ç¼–ç¨‹æ€æƒ³  



### é¢å‘è¿‡ç¨‹ï¼ˆPOPï¼‰

> åˆ†æå‡ºè§£å†³é—®é¢˜æ‰€éœ€è¦çš„æ­¥éª¤;
>
> ç„¶åç”¨å‡½æ•°æŠŠè¿™äº›æ­¥éª¤ä¸€æ­¥ä¸€æ­¥å®ç°ï¼Œä½¿ç”¨çš„æ—¶å€™å†ä¸€ä¸ªä¸€ä¸ªçš„ä¾æ¬¡è°ƒç”¨ï¼›



### é¢å‘å¯¹è±¡ï¼ˆOOPï¼‰

> æŠŠäº‹ç‰©åˆ†è§£æˆä¸€ä¸ªä¸ªå¯¹è±¡ï¼Œç„¶åç”±å¯¹è±¡ä¹‹é—´åˆ†å·¥ä¸åˆä½œï¼›
>
> æ¯ä¸€ä¸ªå¯¹è±¡éƒ½æ˜¯åŠŸèƒ½ä¸­å¿ƒï¼›å…·æœ‰çµæ´»ã€ä»£ç å¯å¤ç”¨ã€å®¹æ˜“ç»´æŠ¤å’Œå¼€å‘çš„ä¼˜ç‚¹;
>
> æ›´é€‚åˆå¤šäººåˆä½œçš„å¤§å‹é¡¹ç›®ï¼›

[^ç‰¹æ€§]:å°è£…æ€§ã€ç»§æ‰¿æ€§ã€å¤šæ€æ€§



### å‰ç«¯å·¥ç¨‹åŒ–

> åœ¨ä¼ä¸šçº§çš„å‰ç«¯é¡¹ç›®å¼€å‘ä¸­ï¼ŒæŠŠå‰ç«¯å¼€å‘æ‰€éœ€çš„ `å·¥å…·ã€æŠ€æœ¯ã€æµç¨‹ã€ç»éªŒ` ç­‰è¿›è¡Œè§„èŒƒåŒ–ã€æ ‡å‡†åŒ–ï¼›





## ç±»( Class )

> å®šä¹‰ä¸€ä¸ªç±»`class`ï¼›
>
> æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œç®€å•æ¥è¯´ï¼Œç±»ï¼ˆclassï¼‰å°±æ˜¯æ„é€ å‡½æ•°çš„å¦ä¸€ç§å†™æ³•ï¼›
>
> ```java
> // åˆ›å»ºä¸€ä¸ªç±»çš„è¯­æ³•ï¼š
> class name {
>   // class body
> }
> // åˆ›å»ºä¸€ä¸ªå®ä¾‹
> var xx = new name();
> ```



### ç±»å’Œå¯¹è±¡



### class

> `ç±»`æŠ½è±¡äº†å¯¹è±¡çš„å…¬å…±éƒ¨åˆ†ï¼Œå®ƒæ³›æŒ‡æŸä¸€ä¸ªå¤§ç±»ï¼ˆclassï¼‰ï¼›



#### object

> `å¯¹è±¡`ç‰¹æŒ‡æŸä¸€ä¸ªï¼Œé€šè¿‡ç±»çš„å®ä¾‹åŒ–å½¢æˆçš„ä¸€ä¸ªå…·ä½“çš„å¯¹è±¡ï¼›



### contructor()

> æ˜¯ç±»çš„æ„é€ å‡½æ•°ï¼ˆé»˜è®¤æ–¹æ³•ï¼‰ï¼Œç”¨äºä¼ é€’å‚æ•°ï¼Œè¿”å›å®ä¾‹å¯¹è±¡ï¼›
>
> é€šè¿‡`new`å‘½ä»¤ç”Ÿæˆå¯¹è±¡å®ä¾‹æ—¶ï¼Œè‡ªåŠ¨è°ƒç”¨è¯¥æ–¹æ³•ï¼›
>
> å¦‚æœæ²¡æœ‰æ˜¾ç¤ºå®šä¹‰ï¼Œç±»çš„å†…éƒ¨ä¼šè‡ªåŠ¨å¸®æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªconstructorï¼ˆï¼‰;
>
> ```javascript
> class Stars {
>     constructor(name, like) {
>        this.name = name
>        this.like = like
>     }
>     sing() {
>        console.log('æˆ‘æ˜¯' + this.name + 'ï¼Œæˆ‘å–œæ¬¢' + this.like)
>     }
> };
>    
>    var xzq = new Stars('è–›ä¹‹è°¦', 'å”±æ­Œ');
>    ```
>    

 

### èµ‹å€¼å†™æ³•

> ç±»ä¸­å¯ä»¥ç›´æ¥å†™**èµ‹å€¼è¯­å¥**ï¼›
>
> ```javascript
> class Car {
>   constructor(brand, price) {
>     this.brand = brand
>     this.price = price
>   }
>   // å†™åœ¨ constructor å¤–å¤–é¢çš„å®ä¾‹å±æ€§ï¼›
>   // ç»™å®ä¾‹å¯¹è±¡èµ‹äºˆä¸€ä¸ªå›ºå®šçš„ã€ä¸å¯ä¼ å€¼çš„å±æ€§ wheelï¼Œå€¼ä¸º 4ï¼›
>   wheel = 4
>   // åŠ ä¸Š static å‰ç¼€ï¼Œåˆ™ä¸ºç±»ç‹¬æœ‰ï¼Œå®ä¾‹å¯¹è±¡æ²¡æœ‰ï¼›
>   static classId = 52
>   print = () => {
>     // å†™æˆç®­å¤´å‡½æ•°åˆ™ï¼Œè¯¥æ–¹æ³•çš„ this æ°¸è¿œæŒ‡å‘ Car çš„å®ä¾‹å¯¹è±¡ï¼›
>     console.log(this.brand + 'æ˜¯' + this.price)
>     // å¥”é©°æ˜¯38W
>   }
> }
> 
> // åˆ›å»ºå®ä¾‹å¯¹è±¡ï¼›
> const car = new Car('å¥”é©°', '38W')
> // CarÂ {wheel: 4, brand: 'å¥”é©°', price: '38W'}
> ```



### è¯­æ³•( Grammar )

> ç±»é‡Œé¢çš„æ‰€æœ‰å‡½æ•°éƒ½ä¸éœ€è¦åŠ functionå‰ç¼€ï¼›
>
> å¤šä¸ªå‡½æ•°æ–¹æ³•ä¹‹é—´ä¸éœ€è¦æ·»åŠ é€—å·åˆ†å‰²ï¼›

 

### ç»§æ‰¿( extends )

> å­ç±»å¯ä»¥ç»§æ‰¿çˆ¶ç±»çš„ä¸€äº›å±æ€§å’Œæ–¹æ³•ï¼›
>
> ```javascript
> // ç±»çš„ç»§æ‰¿ï¼šå­ç±»å¯ä»¥ç»§æ‰¿çˆ¶ç±»çš„ä¸€äº›å±æ€§å’Œæ–¹æ³•ï¼›
> class Father {
>      // è¿™æ˜¯çˆ¶ç±»
>      constructor(name, age) {
>        this.name = name
>        this.age = age
>      }
>      personal() {
>        console.log(this.name + this.age);
>      }
>    };
>    
>    class Son extends Father {
>     // å­ç±»ç»§æ‰¿çˆ¶ç±»çš„ä¸€äº›å±æ€§å’Œæ–¹æ³•
>     constructor(name, age, gender) {
>        // è°ƒç”¨çˆ¶ç±»çš„ constructor æ„é€ å‡½æ•°ï¼›
>        super(name, age)
>        this.gender = gender
>      }
>    };
>    
> var son = new Son('Kein', 22, 'Male');
> son.personal();
> ```

[^Focus]:åœ¨`constructor()`ä¸­ä½¿ç”¨**çˆ¶ç±»**çš„å±æ€§ï¼Œéœ€å€ŸåŠ©`super()`ï¼Œå¦åˆ™ä¼šæŠ¥é”™ï¼›



### super

> ç”¨äºè®¿é—®çˆ¶ç±»ä¸Šçš„å±æ€§ï¼›



### get/set 

> ```javascript
> get dataName(){
>     // å®ä¾‹åŒ–å¯¹è±¡è·å– dataName çš„æ•°æ®æ—¶ï¼Œè§¦å‘æ­¤æ–¹æ³•ï¼›
>     return this.dataName;
> };
> 
> set dataName(newValue){
>     // å®ä¾‹åŒ–å¯¹è±¡è®¾ç½®æˆ–èµ‹å€¼ dataName æ—¶ï¼Œè§¦å‘æ­¤æ–¹æ³•ï¼›
>     this.dataName = newValue;
> }
> ```

 

### æ³¨æ„( Focus )

> åœ¨ES6ä¸­ç±»æ²¡æœ‰å˜é‡æå‡ï¼Œæ‰€ä»¥å¿…é¡»å…ˆå®šä¹‰ç±»ï¼Œæ‰èƒ½é€šè¿‡ç±»å®ä¾‹åŒ–å¯¹è±¡ï¼›
>
> ç±»é‡Œé¢å…±æœ‰çš„å±æ€§å’Œæ–¹æ³•ä¸€å®šè¦åŠ `this`ä½¿ç”¨ï¼›
>
> constructor é‡Œé¢çš„`this`æŒ‡å‘å®ä¾‹åŒ–çš„å¯¹è±¡ï¼Œæ–¹æ³•é‡Œé¢çš„ this æŒ‡å‘è¿™ä¸ªæ–¹æ³•çš„è°ƒç”¨è€…ï¼›

 

### åŸå‹( prototype )

> åœ¨åŸå‹å¯¹è±¡ï¼ˆprototypeï¼‰é‡Œé¢æ·»åŠ æ–¹æ³•ï¼›
>
> åŸå‹å¯¹è±¡ï¼ˆprototypeï¼‰é‡Œé¢çš„ constructor å±æ€§æŒ‡å‘ç±»ï¼ˆclassï¼‰æœ¬èº«ï¼›

 

 

## æ„é€ å‡½æ•°

> åœ¨ES6ä¹‹å‰ï¼Œå¯¹è±¡ä¸æ˜¯åŸºäºç±»ï¼ˆclassï¼‰åˆ›å»ºçš„ï¼›
>
> è€Œæ˜¯ç”¨å«**æ„é€ å‡½æ•°**çš„ç‰¹æ®Šå‡½æ•°æ¥å®šä¹‰ï¼›

 

### æˆå‘˜

> æ„é€ å‡½æ•°ä¸­çš„å±æ€§å’Œæ–¹æ³•å¯ä»¥ç§°ä¸ºæˆå‘˜ï¼Œå¯ä»¥æ·»åŠ ï¼›

â€‹	

#### å®ä¾‹æˆå‘˜

> æ„é€ å‡½æ•°å†…éƒ¨é€šè¿‡`this`æ·»åŠ çš„æˆå‘˜ï¼›
>
> åªèƒ½é€šè¿‡å®ä¾‹åŒ–çš„å¯¹è±¡æ¥è®¿é—®ï¼Œä¸å¯ä»¥é€šè¿‡æ„é€ å‡½æ•°è®¿é—®ï¼›



#### é™æ€æˆå‘˜

> ç›´æ¥åœ¨æ„é€ å‡½æ•°æœ¬èº«ä¸Šæ·»åŠ çš„æˆå‘˜ï¼Œåªèƒ½é€šè¿‡æ„é€ å‡½æ•°æ¥è®¿é—®ï¼›

   

### prototype

> æ„é€ å‡½æ•°é€šè¿‡åŸå‹ï¼ˆprototypeï¼‰åˆ†é…çš„å‡½æ•°æ˜¯æ‰€æœ‰å¯¹è±¡æ‰€å…±äº«çš„ï¼›
>
> æ¯ä¸€ä¸ª**æ„é€ å‡½æ•°**éƒ½æœ‰ä¸€ä¸ª`prototype`å±æ€§ï¼ŒæŒ‡å‘å¦ä¸€ä¸ªå¯¹è±¡ï¼›
>
> `prototype`æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡çš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³•ï¼Œéƒ½ä¼šè¢«**æ„é€ å‡½æ•°**æ‰€æ‹¥æœ‰ï¼›

[^Rules]:ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå…¬å…±å±æ€§å®šä¹‰åˆ°æ„é€ å‡½æ•°é‡Œé¢ï¼Œå…¬å…±çš„æ–¹æ³•å°±æ”¾åœ¨åŸå‹å¯¹è±¡ï¼ˆprototypeï¼‰ä¸Šï¼›

 

### proto

> å®ä¾‹å¯¹è±¡éƒ½æœ‰ä¸€ä¸ª`_proto_`å±æ€§ï¼ŒæŒ‡å‘**æ„é€ å‡½æ•°**çš„`prototype`åŸå‹å¯¹è±¡ï¼›
>
> å®ä¾‹å¯¹è±¡å¯ä»¥ä½¿ç”¨æ„é€ å‡½æ•°å’Œ prototype åŸå‹å¯¹è±¡èº«ä¸Šçš„å±æ€§å’Œæ–¹æ³•ï¼Œå°±æ˜¯å› ä¸º`_proto_`å±æ€§çš„å­˜åœ¨ï¼›

[^Focus]:å®ä¾‹å¯¹è±¡èº«ä¸Šçš„`_proto_`å¯¹è±¡åŸå‹å’Œæ„é€ å‡½æ•°èº«ä¸Šçš„`prototype`æ˜¯ç›¸ç­‰çš„ï¼›
[^Function]:åœ¨äºä¸ºå¯¹è±¡æˆå‘˜çš„æŸ¥æ‰¾è§„åˆ™æä¾›ä¸€ä¸ªæ–¹å‘å’Œè·¯çº¿ï¼Œå«åš`åŸå‹é“¾`ï¼›

 

### æŸ¥æ‰¾åŸåˆ™

> é¦–å…ˆçœ‹å®ä¾‹å¯¹è±¡æœ¬èº«æ˜¯å¦æœ‰éœ€è¦çš„æ–¹æ³•å’Œå±æ€§ï¼Œå¦‚æœæœ‰ï¼Œå°±ä½¿ç”¨å®ä¾‹å¯¹è±¡æœ¬èº«çš„æ–¹æ³•å’Œå±æ€§ï¼›
>
> å¦‚æœå®ä¾‹å¯¹è±¡æœ¬èº«æ²¡æœ‰æ‰¾åˆ°ï¼Œå°±é¡ºç€`_proto_`å±æ€§æŒ‡å‘çš„æ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡`prototype`èº«ä¸Šå»æŸ¥æ‰¾éœ€è¦çš„æ–¹æ³•å’Œå±æ€§ï¼›

 

### constructor

> å®ä¾‹å¯¹è±¡ä¸­çš„`_proto_`å±æ€§å’Œæ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡`prototype`å±æ€§é‡Œé¢éƒ½æœ‰ä¸€ä¸ª`constructor`å±æ€§ï¼›
>
> æŒ‡å‘æ„é€ å‡½æ•°æœ¬èº«ï¼›
>
> ä¸»è¦ç”¨äºè®°å½•è¯¥å¯¹è±¡å¼•ç”¨äºå“ªä¸ªæ„é€ å‡½æ•°ï¼›
>
> ä¸€èˆ¬æ‰‹åŠ¨æ·»åŠ `contructor`å±æ€§æŒ‡å‘æ„é€ å‡½æ•°æœ¬èº«ï¼›



### åŸå‹é“¾

> åªè¦æ˜¯å¯¹è±¡ï¼Œå°±ä¼šæœ‰`_proto_`å±æ€§ï¼›
>
> æŒ‡å‘å…¶æ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡`prototype`ï¼›

 



 ## call()

> æ”¹å˜thisçš„æŒ‡å‘ï¼›ä¹Ÿå¯ä»¥è°ƒç”¨å‡½æ•°ï¼›
>
> ```javascript
> function Father(name, age, money) {
>      this.name = name;
>      this.age = age;
>      this.money = money;
> };
> 
> Father.prototype.salary = function() {
>      console.log(this.money);
> };
> 
> // åˆ›å»ºä¸€ä¸ªå­æ„é€ å‡½æ•°
> function Son(name, age, money, score) {
>      // æ”¹å˜å­çˆ¶æ„é€ å‡½æ•°çš„thisæŒ‡å‘ï¼Œå˜æˆå­æ„é€ å‡½æ•°
>      Father.call(this, name, age, money);
>      this.score = score;
> };
> 
> // å­æ„é€ å‡½æ•°ç»§æ‰¿çˆ¶æ„é€ å‡½æ•°çš„æ–¹æ³•
> // Son.prototype = Father.prototype;ä¸èƒ½è¿™æ ·å†™ï¼Œå¦‚æœä¿®æ”¹äº†å­åŸå‹å¯¹è±¡ï¼Œçˆ¶åŸå‹å¯¹è±¡ä¹Ÿä¼šè·Ÿç€ä¸€èµ·å˜åŒ–ï¼›
> Son.prototype = new Father();//æ­¤æ—¶Sonçš„åŸå‹å¯¹è±¡æŒ‡å‘çš„æ˜¯Fatherçš„åŸå‹å¯¹è±¡
> 			
> // æ­¤æ—¶åˆ©ç”¨å¯¹è±¡çš„å½¢å¼ä¿®æ”¹äº†æ„é€ å‡½æ•°Sonçš„åŸå‹å¯¹è±¡ï¼Œè¦åˆ©ç”¨constructorå±æ€§æŒ‡å‘å›æœ¬èº«çš„æ„é€ å‡½æ•°
> Son.prototype.constructor = Son;
> 
> // åˆ›å»ºä¸€ä¸ªå®ä¾‹å¯¹è±¡
> var person = new Son('é‚¹å‡¯', 22, 'Â¥5201314', 'A+');
> ```

 

 

## Array.

> forEachï¼ˆï¼‰ã€mapï¼ˆï¼‰ã€filterï¼ˆï¼‰ã€someï¼ˆï¼‰ã€everyï¼ˆï¼‰

 

### forEachï¼ˆï¼‰

> éå†æ•°ç»„ï¼Œå¯¹æ•°ç»„é‡Œé¢çš„æ¯ä¸ªå…ƒç´ éƒ½è¿›è¡Œæ“ä½œï¼›
>
> ```javascript
> var array = [12, 5, 8, 9, 11];
> var arraySum = 0;
> // forEachï¼ˆï¼‰ï¼šéå†æ•°ç»„ï¼Œå¯¹æ•°ç»„é‡Œé¢çš„æ¯ä¸ªå…ƒç´ éƒ½è¿›è¡Œæ“ä½œ
> array.forEach(function(value, index, array) {
>      arraySum += value;
> })
> console.log(arraySum);/*arraySum = 45;*/
> ```

 

### filterï¼ˆï¼‰

> æ ¹æ®æ¡ä»¶ç­›é€‰æ•°ç»„ï¼Œè¿”å›ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„**æ–°æ•°ç»„**ï¼›
>
> ```javascript
> var array = [12, 5, 8, 9, 11];
> // filterï¼ˆï¼‰ï¼šç­›é€‰æ•°ç»„ï¼Œè¿”å›ä¸€ä¸ªæ–°çš„æ•°ç»„
> var newAr = array.filter(function(value, index, array) {
>      return value > 8;
> })
> console.log(newAr);/*newAr = [12,9,11];*/
> ```

 

### some()

> æ£€æµ‹æ•°ç»„ä¸­çš„å…ƒç´ æ˜¯å¦æ»¡è¶³åˆ¶å®šæ¡ä»¶ï¼›
>
> å¦‚æœæ‰¾åˆ°ç¬¬ä¸€ä¸ªæ»¡è¶³æ¡ä»¶çš„å…ƒç´ ï¼Œåˆ™ç»ˆæ­¢å¾ªç¯ä¸å†ç»§ç»­æŸ¥æ‰¾ï¼Œè¿”å›çš„æ˜¯**å¸ƒå°”å€¼**ï¼›
>
> ```javascript
> var array = [12, 5, 8, 9, 11];
> 
> var result = array.some(function(value, index, array) {
>      return value > 10;
> })
> console.log(result);/* result = true */
> ```



### every()

> ç”¨äºæ£€æµ‹æ•°ç»„ä¸­**æ‰€æœ‰å…ƒç´ **æ˜¯å¦éƒ½ç¬¦åˆæŒ‡å®šæ¡ä»¶ï¼›
>
> å¦‚æœæœ‰ä¸€ä¸ªå…ƒç´ ä¸æ»¡è¶³æ¡ä»¶ï¼Œè¿”å›`false` ï¼Œç»ˆæ­¢å¾ªç¯ä¸å†ç»§ç»­æ£€æµ‹ï¼Œ
>
> æ‰€æœ‰å…ƒç´ éƒ½ç¬¦åˆæ¡ä»¶ï¼Œè¿”å›`true`ï¼›
>
> ```javascript
> const array = [12, 5, 8, 9, 11]
> 
> const result = array.every((value, index, array) => {
>     // æ£€æµ‹å…ƒç´ å…ƒç´ æ˜¯å¦éƒ½å¤§äº 4
>     return value > 4
> })
> console.log(result);/* result = true */



### map()

> `map()` æ–¹æ³•ä¼šåˆ›å»ºä¸€ä¸ª**æ–°æ•°ç»„**ï¼›
>
> å…¶ç»“æœæ˜¯æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ è¿›è¡Œæ“ä½œåçš„**è¿”å›å€¼**ï¼›
>
> [^Focus]:`return`çš„æ˜¯ä»€ä¹ˆï¼Œæ–°æ•°ç»„çš„æˆå‘˜å°±æ˜¯ä»€ä¹ˆï¼›
>
> ```javascript
> const target = [
>      {name: 'Kein',age: 23},
>      {name: 'MuYin',age: 1},
>      {name: 'ZouKai',age: 22},
> ]
> 
> const newArray = target.map((item,index,array) => {
>      return item.name
> })
> 
> // newArray = ['Kein','MuYin','ZouKai']
> ```



### findï¼ˆï¼‰

> è¿”å›é€šè¿‡æµ‹è¯•ï¼ˆå‡½æ•°å†…åˆ¤æ–­ï¼‰çš„æ•°ç»„ä¸­çš„**ç¬¬ä¸€ä¸ªå…ƒç´ çš„å€¼**ï¼Œä¹‹åçš„å€¼ä¸ä¼šå†è°ƒç”¨æ‰§è¡Œå‡½æ•°ï¼›
>
> å¦‚æœæ²¡æœ‰ç¬¦åˆæ¡ä»¶çš„å…ƒç´ è¿”å› undefined ï¼›
>
> ```javascript
> var array = [12, 5, 8, 9, 11];
> // findï¼ˆï¼‰ï¼šè¿”å›é€šè¿‡æµ‹è¯•ï¼ˆå‡½æ•°å†…åˆ¤æ–­ï¼‰çš„æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ çš„å€¼;
> var result = array.find(function(value){
>   return value === 9;
> })
> console.log(result);/*result = 9;*/
> ```

[^value]:æ•°ç»„é‡Œé¢æ¯ä¸ªå…ƒç´ çš„å€¼ï¼›
[^index]:æ•°ç»„æ¯ä¸ªå…ƒç´ çš„ç´¢å¼•å€¼ï¼›
[^array]:æ•°ç»„æœ¬èº«ï¼›

  

### reduce()

> `reduce()` æ–¹æ³•å¯¹æ•°ç»„ä¸­çš„**æ¯ä¸ªå…ƒç´ **æ‰§è¡Œä¸€ä¸ªè‡ªå®šä¹‰çš„ **reducer** å‡½æ•°ï¼›
>
> å°†å…¶ç»“æœæ±‡æ€»ä¸ºå€¼å¹¶è¿”å›ï¼›
>
> ```javascript
> // è¯­æ³•ï¼š
> arr.reduce(callback,initialValue);
> // callback æ˜¯ä¸€ä¸ªè‡ªå®šä¹‰çš„ reducer å‡½æ•°ï¼›
> 
> function callback(accumulator,currentValue,index,array){
>      return accumulator + currentValue;
> }
> ```

[^callback]:ç”¨æˆ·è‡ªå®šä¹‰çš„ reducer å‡½æ•°ï¼Œä½œä¸º`reduce()`æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼›

> [^accumulator]:ç´¯è®¡å™¨ç´¯è®¡å›è°ƒçš„è¿”å›å€¼ï¼Œå®ƒæ˜¯ä¸Šä¸€æ¬¡è°ƒç”¨å›è°ƒæ—¶è¿”å›çš„ç´¯ç§¯å€¼ï¼›
> [^currentValue]:æ•°ç»„ä¸­æ­£åœ¨å¤„ç†çš„å…ƒç´ çš„å€¼ï¼›
> [^index]:å¯é€‰ï¼Œæ•°ç»„ä¸­æ­£åœ¨å¤„ç†çš„å½“å‰å…ƒç´ çš„ç´¢å¼•å€¼ï¼›
> [^array]:å¯é€‰ï¼Œè°ƒç”¨`reduce()`æ–¹æ³•çš„æ•°ç»„ï¼›

[^initialValue]:å¯é€‰ï¼Œä½œä¸ºç¬¬ä¸€æ¬¡è°ƒç”¨ `callback`å‡½æ•°æ—¶çš„ç¬¬ä¸€ä¸ªå‚æ•°çš„å€¼ï¼›





## Object.defineProperty()

> ç»™å¯¹è±¡å¢åŠ æ–°çš„å±æ€§æˆ–ä¿®æ”¹åŸæœ‰çš„å±æ€§ï¼›
>
> è¯­æ³•ï¼š
>
> ```javascript
> Object.defineProperty(obj,prop,descriptor);
> ```

[^obj]:è¦è¿›è¡Œæ“ä½œçš„ç›®æ ‡å¯¹è±¡ï¼›
[^prop]:è¦å®šä¹‰æˆ–ä¿®æ”¹çš„å±æ€§åï¼›
[^descriptor]:è¦å®šä¹‰æˆ–ä¿®æ”¹çš„å±æ€§çš„æè¿°ï¼›ä»¥å¯¹è±¡å½¢å¼`{ }`ä¹¦å†™ï¼›

â€‹		 

### descriptor

> ä»¥å¯¹è±¡å½¢å¼`{ }`ä¹¦å†™ï¼›
>
> ```javascript
> var phone = {
>     model: 'iphone 12 ProMax',
>     brand: 'Apple',
>     color: 'black',
>     price: 5999
> };
> 
> // é€šè¿‡Object.definePropertyï¼ˆï¼‰æ–¹æ³•ä¿®æ”¹colorå±æ€§
> Object.defineProperty(phone, 'color', {
>     value: 'white'
> })
> console.log(phone);/*phone.color = 'white';*/
> 
> // é€šè¿‡Object.definePropertyï¼ˆï¼‰æ–¹æ³•å¢åŠ ä¸€ä¸ªamountå±æ€§
> Object.defineProperty(phone, 'amount', {
>     value: 1000,
>     writable:true,
>     enumerable:true,
>     configurable:true,
>     // å½“è¯»å– phone ä¸­çš„ amount å±æ€§æ—¶ï¼Œå°±ä¼šè°ƒç”¨æ­¤æ–¹æ³•ï¼Œè¿”å›ä¸€ä¸ªå€¼ï¼›
>     get: function(){
>        return this.amount;
>     },
>     // å½“ä¿®æ”¹ phone ä¸­çš„ amount å±æ€§æ—¶ï¼Œå°±ä¼šè°ƒç”¨æ­¤æ–¹æ³•ï¼›
>     set: function(newValue){
>        this.amount = newValue;
>     }
> });
> ```

[^value]:è®¾ç½®å±æ€§çš„å€¼ï¼Œé»˜è®¤ä¸º undefinedï¼›
[^writable]:å±æ€§å€¼æ˜¯å¦å¯ä»¥é‡å†™ï¼Œå¸ƒå°”å€¼ï¼ˆtrueæˆ–falseï¼‰ï¼Œé»˜è®¤æ˜¯ falseï¼›
[^enumerable]:å±æ€§æ˜¯å¦å¯ä»¥è¢«æšä¸¾ï¼Œå¸ƒå°”å€¼ï¼ˆtrueæˆ–falseï¼‰ï¼Œé»˜è®¤æ˜¯ falseï¼›
[^configurable]:å±æ€§æ˜¯å¦å¯ä»¥è¢«åˆ é™¤æˆ–è€…å†æ¬¡ä¿®æ”¹ï¼Œå¸ƒå°”å€¼ï¼ˆtrueæˆ–falseï¼‰ï¼Œé»˜è®¤æ˜¯ falseï¼›

 

  

## å‡½æ•°è¿›é˜¶

 

### å®šä¹‰æ–¹å¼



#### å‘½åå‡½æ•°

> ```javascript
> // è‡ªå®šä¹‰å‡½æ•°
> function funNameï¼ˆï¼‰{};
> ```



#### åŒ¿åå‡½æ•°

> ```javascript
> // å‡½æ•°è¡¨è¾¾å¼ï¼›
> var funName = functionï¼ˆï¼‰{ };
> ```



#### Function æ„é€ å‡½æ•°

> ```javascript
> var funName = new Functionï¼ˆï¼‰ï¼›
> ```

â€‹		

### å‡½æ•°æœ¬è´¨

> æ‰€æœ‰çš„å‡½æ•°éƒ½æ˜¯`Function`æ„é€ å‡½æ•°çš„å®ä¾‹å¯¹è±¡ï¼›
>
> å‡½æ•°æœ¬è´¨æ˜¯å¯¹è±¡ï¼Œæ˜¯ä¸€ç§æ•°æ®ç±»å‹ï¼›

â€‹	

### this

> ä¸€èˆ¬`this`æŒ‡å‘å‡½æ•°çš„è°ƒç”¨è€…ï¼Œè°è°ƒç”¨äº†å‡½æ•°ï¼Œ`this`å°±æŒ‡å‘è°ï¼›
>
> å®šæ—¶å™¨å‡½æ•°é‡Œé¢çš„`this`æŒ‡å‘çš„æ˜¯`window`ï¼›



### è·å–å¼‚æ­¥æ“ä½œçš„ç»“æœ

> å¦‚æœè¦è·å–ä¸€ä¸ªå‡½æ•°ä¸­å¼‚æ­¥æ“ä½œçš„ç»“æœï¼Œåˆ™å¿…é¡»é€šè¿‡å›è°ƒå‡½æ•°æ¥è·å–ï¼›
>
> ```javascript
> function fn(callback){
>      setTimeout(function(){
>        var data = 'Hello World !';
>        callback(data);
>      },1000);
> }
> 
> // å¦‚æœè¦è·å–ä¸€ä¸ªå‡½æ•°ä¸­å¼‚æ­¥æ“ä½œçš„ç»“æœï¼Œåˆ™å¿…é¡»é€šè¿‡å›è°ƒå‡½æ•°æ¥è·å–ï¼›
> // å›è°ƒå‡½æ•°
> function receive(data){
>      console.log(data)
> }
> fn(receive)
> ```

 

### å‡½æ•°æŸ¯é‡ŒåŒ–

> é€šè¿‡å‡½æ•°è°ƒç”¨ç»§ç»­è¿”å›å‡½æ•°çš„æ–¹å¼ï¼Œå®ç°å¤šæ¬¡æ¥å—å‚æ•°æœ€åç»Ÿä¸€å¤„ç†çš„å‡½æ•°ç¼–ç å½¢å¼ï¼›

 



## strict mode

> ä¸¥æ ¼æ¨¡å¼ï¼›
>
> æŒ‡åœ¨ä¸¥æ ¼çš„è¯­æ³•æ¡ä»¶ä¸‹è¿è¡ŒJavaScriptä»£ç ï¼›	



### å…¼å®¹æ€§

> åœ¨ IE10 ä»¥ä¸Šç‰ˆæœ¬ä¼šè¢«æ”¯æŒï¼Œæ—§ç‰ˆæœ¬ä¼šè¢«å¿½ç•¥ï¼›

â€‹	

### å¼€å¯ strict mode	



#### å…¨å±€å¼€å¯

> åœ¨è„šæœ¬é‡Œé¢çš„ä»£ç çš„æœ€ä¸Šæ–¹å†™å…¥ ` â€˜use strictâ€™`ï¼›

â€‹		

#### å±€éƒ¨å¼€å¯

> åœ¨å‡½æ•°ä½“å†…å†™å…¥ ` â€˜use strictâ€™`ï¼›

â€‹	

### è§„åˆ™

> å˜é‡å¿…é¡»å…ˆå£°æ˜å†ä½¿ç”¨ï¼›
>
> ä¸èƒ½éšæ„åˆ é™¤å·²ç»å£°æ˜å¥½çš„å˜é‡ï¼›
>
> å…¨å±€ä½œç”¨åŸŸçš„å‡½æ•°é‡Œé¢çš„ this æŒ‡å‘ undefined ï¼›
>
> å‡½æ•°ä¸èƒ½ä¼ é€’é‡åçš„å½¢å‚ï¼›
>
> å‡½æ•°å¿…é¡»å£°æ˜åœ¨é¡¶å±‚ï¼šé€»è¾‘è¿ç®—ï¼ˆ ifã€forã€whileã€switch ...ï¼‰é‡Œé¢ä¸èƒ½å£°æ˜å‡½æ•°ï¼›

 

 

## é—­åŒ…( Closure )

> å¯ä»¥è®¿é—®å¦ä¸€ä¸ªå‡½æ•°ä½œç”¨åŸŸä¸­å˜é‡çš„å‡½æ•°ï¼Œå³**å®šä¹‰åœ¨ä¸€ä¸ªå‡½æ•°å†…éƒ¨çš„å‡½æ•°**ï¼›



### å½¢æˆæ¡ä»¶

> å½¢æˆä¸€ä¸ªé—­åŒ…ç¯å¢ƒï¼Œéœ€è¦ä¸¤ä¸ªæ¡ä»¶ï¼š**å‡½æ•°åµŒå¥—**ï¼Œå­å‡½æ•°å¼•ç”¨çˆ¶å‡½æ•°**å±€éƒ¨å˜é‡**ï¼›
>
> ```javascript
> // æ²¡æœ‰å½¢æˆé—­åŒ…ï¼›
> // åªæœ‰å‡½æ•°åµŒå¥—ï¼Œæ²¡æœ‰å­å‡½æ•°å¼•ç”¨çˆ¶å‡½æ•°å±€éƒ¨å˜é‡ï¼›
> var name = "the window"
> var obj = {                    
>   name : "myObject",          // å±æ€§
>   getNameFunc:function(){     // æ–¹æ³•
>     return function(){
>       return this.name
>     }
>   }
> }
> alert(obj.getNameFunc()())
> 
> // å½¢æˆé—­åŒ…ï¼›
> // å­å‡½æ•°ä½¿ç”¨äº†çˆ¶å‡½æ•°çš„å˜é‡å¼•ç”¨ï¼›
> var name2 = "the window"
> var obj2 = {                            
>   name2:"my name is a obj",
>   getNameFunc2 :function fn1(){
>     var that = this
>     return function(){
>       return that.name2
>     }
>   }
> }
> alert(obj2.getNameFunc2()())
> ```



### åˆ›å»ºé—­åŒ…

> é—­åŒ…å°±æ˜¯å¯ä»¥åˆ›å»ºä¸€ä¸ªç‹¬ç«‹çš„ç¯å¢ƒï¼›
>
> æ¯ä¸ªé—­åŒ…é‡Œé¢çš„ç¯å¢ƒéƒ½æ˜¯ç‹¬ç«‹çš„ï¼Œäº’ä¸å¹²æ‰°ï¼›
>
> ```javascript
> /* case-1 */
> function funA(){
>   var a = 10  // funAçš„æ´»åŠ¨å¯¹è±¡ä¹‹ä¸­;
>   return function(){   //åŒ¿åå‡½æ•°çš„æ´»åŠ¨å¯¹è±¡;
>     alert(a)
>   }
> }
> var b = funA()
> b()  //10
> 
> /* case-2 */
> function outerFn(){
>   var i = 0
>   function innerFn(){
>     i++
>     console.log(i)
>   }
>   return innerFn
> }
> var inner = outerFn()
> inner()
> inner()
> inner()
> var inner2 = outerFn()
> inner2()
> inner2()
> inner2()
> // è¾“å‡ºç»“æœï¼š 1 2 3 1 2 3
> // Reason: æ¯æ¬¡å¤–éƒ¨å‡½æ•°æ‰§è¡Œçš„æ—¶å€™ï¼Œå¤–éƒ¨å‡½æ•°çš„å¼•ç”¨åœ°å€ä¸åŒï¼Œéƒ½ä¼šé‡æ–°åˆ›å»ºä¸€ä¸ªæ–°çš„åœ°å€ï¼›
> 
> /* case-3 */
> var i = 0
> function outerFn(){
>   function innnerFn(){
>     i++
>     console.log(i)
>   }
>   return innnerFn
> }
> var inner1 = outerFn()
> var inner2 = outerFn()
> inner1()
> inner2()
> inner1()
> inner2()
> // è¾“å‡ºç»“æœï¼š 1 2 3 4
> ```



### ä¼˜ç¼ºç‚¹

> æ ¹æ®åœºæ™¯éœ€è¦ï¼Œæ˜¯å¦ä½¿ç”¨é—­åŒ…ï¼›



#### ä¼˜ç‚¹

> å¯ä»¥å»¶å±•å˜é‡çš„ä½œç”¨åŸŸï¼Œè®©å¤–éƒ¨è®¿é—®å‡½æ•°å†…éƒ¨å˜é‡æˆä¸ºå¯èƒ½ï¼›
>
> éšè—å˜é‡ä»¥åŠé˜²æ­¢å˜é‡è¢«ç¯¡æ”¹å’Œä½œç”¨åŸŸçš„æ±¡æŸ“ï¼Œä»è€Œå®ç°å°è£…ï¼›



#### ç¼ºç‚¹

> ä¼šé€ æˆå†…å­˜æ³„æ¼[^Reason]ï¼›

[^Reason]:å‡½æ•°æ‰§è¡Œå®Œåï¼Œå‡½æ•°å†…çš„å±€éƒ¨å˜é‡æ²¡æœ‰é‡Šæ”¾ï¼Œå ç”¨å†…å­˜æ—¶é—´å˜é•¿ï¼Œå®¹æ˜“é€ æˆå†…å­˜æ³„æ¼ï¼›
[^Resolve]:è®©å†…éƒ¨å‡½æ•°å˜æˆåƒåœ¾å¯¹è±¡ï¼Œèµ‹å€¼ä¸º`null`ï¼ŒåŠæ—¶é‡Šæ”¾ï¼Œè®©æµè§ˆå™¨å›æ”¶é—­åŒ…ï¼›



### ç»“è®º

> **é—­åŒ…æ‰¾åˆ°çš„æ˜¯åŒä¸€åœ°å€ä¸­çˆ¶çº§å‡½æ•°ä¸­å¯¹åº”å˜é‡æœ€ç»ˆçš„å€¼**ï¼›

â€‹	



## å¾ªç¯( Loop )



### for-in

> è·å–çš„æ˜¯**å¯¹è±¡çš„é”®å€¼**æˆ–è€…**æ•°ç»„çš„ç´¢å¼•**ï¼›
>
> éå†é¡ºåºæœ‰å¯èƒ½ä¸æ˜¯æŒ‰å®é™…æ•°ç»„çš„å†…éƒ¨é¡ºåºï¼Œæ›´é€‚åˆéå†å¯¹è±¡ï¼›
>
> ```javascript
> const obj = { x: 123, y: 234, z: 456 };
> for (let i in obj) {
>      console.log(i);
> }
> // x y z
> ```



### for-of

> éå†çš„æ˜¯**æ•°ç»„å…ƒç´ å€¼**ï¼Œè¿”å›çš„æ˜¯æ•°ç»„å†…çš„å…ƒç´ ï¼›
>
> ```javascript
> const array = [123, 234, 456]
> for(let i of array) {
>     console.log(i)
> }
> // 123 234 456
> ```

â€‹	

â€‹	

## é€’å½’

[^å®šä¹‰]:å¦‚æœä¸€ä¸ªå‡½æ•°åœ¨å†…éƒ¨è‡ªå·±è°ƒç”¨æœ¬èº«ï¼Œé‚£è¿™ä¸ªå‡½æ•°å°±æ˜¯**é€’å½’å‡½æ•°**ï¼›	
[^Focus]:é€’å½’å‡½æ•°å®¹æ˜“å‘ç”Ÿâ€œæ ˆæº¢å‡ºâ€é”™è¯¯( stack overflow )ï¼Œ**å¿…é¡»è¦æœ‰é€€å‡ºæ¡ä»¶ï¼›** 

> ```javascript
> // åˆ©ç”¨é€’å½’å‡½æ•°æ±‚1ï½nçš„é˜¶ä¹˜ï¼š
> function number(n) {
>      if (n === 1) { // æ·»åŠ é€’å½’å‡½æ•°çš„é€€å‡ºæ¡ä»¶ï¼Œå¦åˆ™å°±ä¼šå‘ç”Ÿé”™è¯¯ï¼Œæ­»å¾ªç¯ï¼›
>        return 1;
>      }
>      return n * number(n - 1); //è‡ªå·±åœ¨å‡½æ•°å†…éƒ¨è°ƒç”¨æœ¬èº«
> };
> console.log(number(6));/*720*/
> 
> 
> // åˆ©ç”¨é€’å½’å‡½æ•°æ±‚æ–æ³¢é‚£å¥‘æ•°åˆ—ï¼ˆå…”å­åºåˆ—ï¼‰ï¼š1 1 2 3 5 8 13 21 34 55 ...ï¼Œè¾“å…¥nå°±å¯ä»¥çŸ¥é“ä¸ä¹‹å¯¹åº”çš„åºåˆ—å€¼ï¼›
> // ç†è§£ï¼šçŸ¥é“ï¼ˆn-1ï¼‰å’Œï¼ˆn-2ï¼‰çš„åºåˆ—å€¼å°±å¯ä»¥çŸ¥é“nçš„åºåˆ—å€¼ = ï¼ˆn-1ï¼‰+ï¼ˆn-2ï¼‰ï¼›
> function fbnq(n) {
>      // æ·»åŠ é€’å½’å‡½æ•°çš„é€€å‡ºæ¡ä»¶ï¼Œå¦åˆ™å°±ä¼šå‘ç”Ÿé”™è¯¯ï¼Œæ­»å¾ªç¯
>      if (n === 1 || n === 2) {
>        return 1;
>      };
>      //è‡ªå·±åœ¨å‡½æ•°å†…éƒ¨è°ƒç”¨æœ¬èº«
>      return fbnq(n - 1) + fbnq(n - 2);
> };
> console.log(fbnq(10));/*55*/
> 
> 
> // åˆ©ç”¨é€’å½’å‡½æ•°å®ç°æ•°æ®çš„ æ·±åº¦æ‹·è´
> var apple = [
>      {
>        id: 1,
>        brand: 'Iphone',
>        model: ['iphone8 Plus', 'iphone11', 'iphone12 Pro', 'iphone13ProMax']
>      },
>      {
>        id: 2,
>        brand: 'iMac',
>        model: ['iMac Pro', 'iMac 4K', 'iMac 6K', 'iMac Display']
>      },
>      {
>        id: 3,
>        brand: 'Watch',
>        model: ['Watch Series 3', 'Watch SE', 'Watch Series 6', 'Watch Series 7']
>      }
> ]
> 
> var copy = []
> function deepCopy(creat, target) {
>      for (var index in target) {
>        // è·å–å±æ€§å€¼ï¼›
>        var item = target[index];
>        // åˆ¤æ–­å±æ€§å€¼æ˜¯å“ªä¸€ç§æ•°æ®ç±»å‹ï¼›
>        if (item instanceof Array) {
>          // åˆ¤æ–­å±æ€§å€¼æ˜¯å¦æ˜¯æ•°ç»„ï¼›
>          creat[index] = [];
>          deepCopy(creat[index], item);
>        } else if (item instanceof Object) {
>          // åˆ¤æ–­å±æ€§å€¼æ˜¯å¦æ˜¯å¯¹è±¡ï¼›
>          creat[index] = {};
>          deepCopy(creat[index], item);
>        } else {
>          creat[index] = item;
>        }
>      }
> }
> deepCopy(copy,apple)
> ```

 

## èŠ‚æµ / é˜²æŠ–

[^Question]:äº‹ä»¶å› ä¸ºç”¨æˆ·çš„é¢‘ç¹æ“ä½œè€Œè¢«è§¦å‘ï¼Œæ¯æ¬¡éƒ½ä¼šå»æ‰§è¡Œæ“ä½œï¼Œå¯èƒ½ä¼šé€ æˆ**å¡é¡¿ç°è±¡**ï¼›



### èŠ‚æµ

> è§„å®šä¸€ä¸ª**æ—¶é—´é—´éš”**ï¼›
>
> åœ¨è¿™ä¸ªæ—¶é—´é—´éš”ä¹‹å†…ï¼Œä¸ä¼šé‡å¤çš„è§¦å‘äº‹ä»¶å‡½æ•°ï¼›å¤§äºè¿™ä¸ªæ—¶é—´é—´éš”æ‰ä¼šè¢«è§¦å‘ï¼›
>
> å°†æ¯æ¬¡è§¦å‘å˜ä¸ºé—´éš”è§¦å‘ï¼›
>
> ```javascript
> // è·å–å…ƒç´ 
> const number = document.getElementById('number')
> // è·å–ç‚¹å‡»æŒ‰é’®
> const btn = document.getElementById('btn')
> 
> // ç‚¹å‡»æŒ‰é’® count +1 
> let count = 0
> 
> function start() {
>      let canNext = true
>      btn.onclick = function () {
>        // åˆ¤æ–­ canNext çš„å€¼ï¼Œä¸º false åˆ™ç›´æ¥ return å‡ºå»
>        if (!canNext) {
>          return
>        }
>        canNext = false
>        // 1000ms åå°† canNext çš„å€¼è®¾ç½®ä¸º true
>        const timer = setTimeout(() => {
>          count++
>          number.innerHTML = count
>          canNext = true
>        }, 1000)
>      }
> }
> start()
> ```



### é˜²æŠ–

> è§„å®šä¸€ä¸ª**å»¶è¿Ÿè§¦å‘æ—¶é—´**ï¼›
>
> ä¹‹å‰çš„æ‰€æœ‰è§¦å‘éƒ½ä¼šè¢«å–æ¶ˆï¼Œ**æœ€åä¸€æ¬¡**çš„è§¦å‘ä¼šåœ¨**å»¶è¿Ÿæ—¶é—´**ä¹‹åè¢«æ‰§è¡Œï¼›
>
> è¿ç»­å¿«é€Ÿçš„è§¦å‘ï¼Œä¹Ÿåªä¼šæ‰§è¡Œæœ€åä¸€æ¬¡ï¼›
>
> ```javascript
> // è·å–è¡¨å•è¾“å…¥å…ƒç´ 
> const input = document.getElementById('input')
> // å‡½æ•°é˜²æŠ–
> function start() {
>      let timer = null
>      input.oninput = function () {
>        if (timer) {
>          // åˆ¤æ–­ timer çš„å€¼ï¼Œä¸ºçœŸè¯´æ˜è§¦å‘å‡½æ•°ï¼Œåˆ™æ¸…é™¤æ‰å»¶æ—¶å™¨
>          clearTimeout(timer)
>        }
>        timer = setTimeout(() => {
>          console.log('æ­£åœ¨è¾“å…¥...')
>        }, 1000)
>      }
> }
> start()
> ```



 

## æ­£åˆ™è¡¨è¾¾å¼

> **æ­£åˆ™è¡¨è¾¾å¼**ï¼š`Regular Expression`ï¼›
>
> ç”¨äºåŒ¹é…å­—ç¬¦ä¸²ä¸­å­—ç¬¦ç»„åˆçš„æ¨¡å¼ï¼›
>
> åœ¨ JavaScript ä¸­ï¼Œæ­£åˆ™è¡¨è¾¾å¼ä¹Ÿæ˜¯å¯¹è±¡ï¼›

â€‹	

### RegExp æ„é€ å‡½æ•°

> ```javascript
> var å˜é‡å = new RegExpï¼ˆ/è¡¨è¾¾å¼/ï¼‰ï¼›
> ```

â€‹		

### å­—é¢é‡

> var å˜é‡å = /è¡¨è¾¾å¼/ï¼›
>
> ```javascript
> var reg = /^[a-zA-Z0-9_-]{6,16}$/;
> //6ä½åˆ°16ä½çš„ä»»æ„æ•°å­—ã€å­—æ¯ã€ä¸‹åˆ’çº¿ã€æ¨ªçº¿ï¼›
> ```





## ES6+

> ECMAScript æ˜¯ç”±Ecmaå›½é™…é€šè¿‡ ECMA-262 æ ‡å‡†åŒ–çš„è„šæœ¬ç¨‹åºè®¾è®¡è¯­è¨€ï¼›
>
> Ecma å›½é™…åˆ¶å®šäº†è®¸å¤šæ ‡å‡†ï¼Œè€Œ ECMA-262 åªæ˜¯å…¶ä¸­ä¸€ä¸ªï¼›



### let

> å˜é‡ä¸èƒ½ä¸èƒ½é‡å¤å£°æ˜ï¼›
>
> `let`å˜é‡å…·æœ‰å—çº§ä½œç”¨åŸŸï¼Œåœ¨å—çš„å¤–éƒ¨ä¸èƒ½è®¿é—®ï¼›
>
> ä¸å­˜åœ¨å˜é‡æå‡ï¼›
>
> ä¸å½±å“ä½œç”¨åŸŸé“¾æ•ˆæœï¼Œå³å†…éƒ¨ä¾ç„¶èƒ½è®¿é—®å¤–éƒ¨çš„letå˜é‡ï¼›



### const

> `const`ç”¨æ¥å£°æ˜å¸¸é‡ï¼›
>
> å£°æ˜æ—¶ä¸€å®šè¦èµ‹äºˆåˆå§‹å€¼ï¼›
>
> ä¸€èˆ¬å¸¸é‡ä½¿ç”¨å¤§å†™ï¼ˆæ½œè§„åˆ™ï¼‰ï¼›
>
> å¸¸é‡çš„å€¼ä¸èƒ½ä¿®æ”¹ï¼›
>
> `const`å˜é‡å…·æœ‰å—çº§ä½œç”¨åŸŸï¼›
>
> å½“å£°æ˜çš„å¸¸é‡æ˜¯ä¸€ä¸ªå¯¹è±¡æˆ–æ•°ç»„æ—¶ï¼Œå¯ä»¥æ›´æ”¹é‡Œé¢çš„å…ƒç´ ï¼Œä¸ä¼šæŠ¥é”™ï¼›



### æ¨¡æ¿å­—ç¬¦ä¸²

> ç”¨**åå¼•å·**åŒ…è£¹å†…å®¹ï¼›
>
> ```javascript
> // 1. å†…å®¹ä¸­å¯ä»¥ç›´æ¥å‡ºç°æ¢è¡Œï¼›
> const text =	`
> 	è¿™ä¸ªæ˜¯ ES6 çš„æ–°è¯­æ³•ï¼Œ
> 	å¾ˆæ–¹ä¾¿ä½¿ç”¨
> `
> 
> // å˜é‡æ‹¼æ¥
> let star = 'è–›ä¹‹è°¦'
> let out = `${star}æ˜¯æœ€æç¬‘çš„æ­Œæ‰‹`
> console.log(out); /* è–›ä¹‹è°¦æ˜¯æœ€æç¬‘çš„æ­Œæ‰‹ */
> ```



### è¯­æ³•ç³–ğŸ¬

> ES6+ æä¾›çš„æ–¹ä¾¿ä¹¦å†™ä»£ç çš„è¯­æ³•ç³–ï¼›



#### å¯¹è±¡ç®€å†™

> ç›´æ¥åœ¨å†…éƒ¨å†™å˜é‡ï¼Œå½“æˆä¸€ä¸ªå±æ€§ï¼›ä»è€Œçœç•¥å±æ€§å€¼ï¼›
>
> ```javascript
> const name = 'Kein'
> const age = 24
> const gender = 'Female'
> 
> const objet = {
>   // å½“å±å§“åå’Œå±æ€§å€¼å•è¯ä¸€æ ·æ—¶ï¼Œå¯ä»¥çœç•¥é”®å€¼ï¼›
>   name,
>   age,
>   gender,
>   export(){
>     console.log(this.name);
>   }
> }
> ```



#### ç®­å¤´å‡½æ•°

> ç®­å¤´å‡½æ•°ä¸­çš„`this`æ˜¯é™æ€çš„ï¼›
>
> **å§‹ç»ˆæŒ‡å‘å‡½æ•°å£°æ˜æ—¶æ‰€åœ¨ä½œç”¨åŸŸä¸‹çš„`this`æŒ‡å‘ï¼Œæ— æ³•æ”¹å˜**ï¼›
>
> å£°æ˜æ„é€ å‡½æ•°ä¸èƒ½ä½¿ç”¨ç®­å¤´å‡½æ•°ï¼›
>
> å½“å½¢å‚åªæœ‰ä¸€ä¸ªçš„æ—¶å€™ï¼Œå¯ä»¥çœç•¥`()`å°æ‹¬å·ï¼›
>
> ```javascript
> const method = (x,y)=>{
>    return x*y;
> }
> console.log(method(4,5));/*20*/
> ```



### å½¢å‚é»˜è®¤å€¼

> ```javascript
> function add(a, b, c = 10){
>    return a + b + c;
> }
> let result = add(2,5); /* æ­¤æ—¶ç¬¬ä¸‰ä¸ªå‚æ•°æœªä¼ æ•°æ® */
> console.log(result); /* 17 */
> ```



### è§£æ„èµ‹å€¼

> æŒ‰ç…§ä¸€å®šæ¨¡å¼ä»æ•°ç»„å’Œå¯¹è±¡ä¸­æå–å€¼ï¼Œå†å¯¹å˜é‡è¿›è¡Œèµ‹å€¼ï¼›



#### æ•°ç»„

> ```javascript
> const F4 = ['å°æ²ˆé˜³','åˆ˜èƒ½','èµµå››','å®‹å°å®'];
> let [a, b, c, d] = F4;
> ```



#### å¯¹è±¡

> ```javascript
> const person = {
>     name: 'èµµæœ¬å±±',
>     age:65,
>     power: function(){
>        console.log('æˆ‘æ˜¯å°å“æ¼”å‘˜ï¼');
>     }
> };
> let {name, age, power} = person;
> ```



#### è¿ç»­è§£æ„

> ```javascript
> const list = {
>   keys: {
>     left: 'A',
>     right: 'D'
>   },
>   mouse: {
>     clickLeft: 'mouse-left',
>     middle: 'mouse-middle',
>     clickRight: 'mouse-right'
>   }
> }
> 
> // è§£æ„èµ‹å€¼
> const { keys } = list
> // è¿ç»­è§£æ„èµ‹å€¼
> const { keys:{ left } } = list // 'A'
> // è¿ç»­è§£æ„å¹¶ä¸”æ›´æ”¹å˜é‡å ä¸º keyLeft
> const { keys:{ left:keyLeft } } = list // 'A'
> ```



### ...args

> ç”¨äºè·å–å‡½æ•°çš„å®å‚ï¼Œç”¨æ¥ä»£æ›¿ arguments ï¼›
>
> å¿…é¡»å†™åœ¨å½¢å‚çš„æœ€åé¢ï¼›
>
> ```javascript
> function fn(a, b, ...args){
>     console.log(a) /*a=1*/
>     console.log(b) /*b=2*/
>     console.log(args) /*args=[3,4,5,6]*/
> }
> fn(1,2,3,4,5,6)
> ```



### æ‰©å±•è¿ç®—ç¬¦

> `...`æ˜¯ ES6 ä¸­å¢åŠ çš„æ‰©å±•è¿ç®—ç¬¦;
>
> èƒ½å°†`æ•°ç»„`æˆ–`å¯¹è±¡`è½¬æ¢ä¸º`é€—å·`åˆ†éš”çš„å‚æ•°åºåˆ—ï¼›



#### åˆå¹¶æ•°ç»„

> ```javascript
> const kuaizi = ['ç‹å¤ªåˆ©','è‚–å¤®'];
> const fh = ['æ›¾æ¯…','ç²èŠ±'];
> 
> //const star = kuaizi.concat(fh);æ•°ç»„æ‹¼æ¥concat()æ–¹æ³•ï¼›
> 
> const star = [...kuaizi,...fh];/*star = ['ç‹å¤ªåˆ©','è‚–å¤®','æ›¾æ¯…','ç²èŠ±']*/
> ```



#### æ•°ç»„æµ…æ‹·è´

> ```javascript
> const zm = ['A','B','C']
> const clone = [...zm] /*clone = ['A','B','C']*/
> ```



#### è½¬åŒ–æˆæ•°ç»„

> ```javascript
> const zm = {
>      0: A,
>      1: B,
>      2: C
> };
> const clone = [...zm] /*clone = ['A','B','C']*/
> ```



#### å…‹éš†å¯¹è±¡

> ```javascript
>// å¦‚æœå¯¹è±¡å±æ€§ä¸æ˜¯å¤æ‚çš„ç±»å‹ï¼Œå¯ä»¥æ·±åº¦å…‹éš†å¯¹è±¡ï¼›
> const person = {
>   name: 'LovelyKein',
>      gender: 'Male',
>      age: '22'
>    }
> const clonePerson = {...person}
> // å…‹éš†çš„åŒæ—¶ï¼Œä¿®æ”¹å¯¹è±¡çš„å±æ€§å€¼
> const clonePerson_1 = {...person, name: 'MuYi', gender: 'Female'}
> person.name = 'Kein' // æ”¹å˜ person.name çš„å€¼
> console.log(clonePerson) // clonePerson ä¸ä¼šå—å½±å“
> ```



### Symbol

> æ˜¯ ES6 ä¸­æ–°å¢çš„ä¸€ç§**åŸå§‹æ•°æ®ç±»å‹**ï¼Œè¡¨ç¤º**ç‹¬ä¸€æ— äºŒçš„å€¼**ï¼›
>
> ç±»ä¼¼äºå­—ç¬¦ä¸²`String`æ•°æ®ç±»å‹ï¼›



#### Create

> åˆ›å»ºä¸€ä¸ª`Symbol`ç±»å‹æ•°æ®ï¼›
>
> ```javascript
> var dataName = Symbol()
> ```



#### Feature

> `Symbol`çš„å€¼æ˜¯å”¯ä¸€çš„ï¼Œç”¨æ¥è§£å†³å‘½åå†²çªçš„é—®é¢˜ï¼›
>
> `Symbol`çš„å€¼ä¸èƒ½ä¸å…¶ä»–æ•°æ®è¿›è¡Œè¿ç®—ï¼›
>
> `Symbol`å®šä¹‰çš„å¯¹è±¡ä¸èƒ½ç”¨ forâ€¦in å¾ªç¯éå†ï¼›
>
> `Symbol`å¯ä»¥ä½¿ç”¨ Reflect.ownKeys æ¥è·å–å¯¹è±¡çš„æ‰€æœ‰é”®åï¼›



### è¿­ä»£å™¨( Iterator )

>è¿­ä»£å™¨`Iterator`æ˜¯ä¸€ç§æ¥å£ï¼Œä¸ºå„ç§ä¸åŒçš„æ•°æ®ç»“æ„æä¾›ç»Ÿä¸€çš„è®¿é—®æœºåˆ¶ï¼›
>
>ä»»ä½•æ•°æ®ç»“æ„åªè¦éƒ¨ç½²`Iterator`æ¥å£ï¼Œå°±å¯ä»¥å®Œæˆéå†æ“ä½œï¼›



### ç”Ÿæˆå™¨( Generator )

>`Generator` ç”Ÿæˆå™¨å‡½æ•°ï¼›
>
>è§£å†³å›è°ƒå†å›è°ƒï¼ˆå›è°ƒåœ°ç‹±ï¼‰`callbacl hell`çš„é—®é¢˜;
>
>```javascript
>// æ¨¡æ‹Ÿå…ˆè·å–ç”¨æˆ·çš„æ•°æ®ï¼Œå†è·å–ç”¨æˆ·çš„è®¢å•æ•°æ®ï¼Œæœ€åè·å¾—è®¢å•çš„å•†å“æ•°æ®
>
>// å…ˆåˆ›å»ºè¦ç”¨åˆ°çš„å›è°ƒå‡½æ•°ï¼›
>function user() {
>    setTimeout(() => {
>         let data = 'ç”¨æˆ·æ•°æ®';
>         // ç¬¬äºŒæ¬¡è°ƒnextï¼ˆï¼‰ï¼Œå°†dataé‡Œé¢çš„æ•°æ®ä¼ å‡ºï¼Œä½œä¸ºç¬¬ä¸€æ®µyieldä»£ç çš„è¿”å›å€¼
>         creatFuntion.next(data);
>    })
>};
>
>function order() {
>    setTimeout(() => {
>         let data = 'è®¢å•æ•°æ®';
>         // ç¬¬ä¸‰æ¬¡è°ƒnextï¼ˆï¼‰ï¼Œå°†dataé‡Œé¢çš„æ•°æ®ä¼ å‡ºï¼Œä½œä¸ºç¬¬äºŒæ®µyieldä»£ç çš„è¿”å›å€¼
>         creatFuntion.next(data);
>    })
>};
>
>function goods() {
>    setTimeout(() => {
>         let data = 'è®¢å•çš„å•†å“æ•°æ®';
>         // ç¬¬å››æ¬¡è°ƒnextï¼ˆï¼‰ï¼Œå°†dataé‡Œé¢çš„æ•°æ®ä¼ å‡ºï¼Œä½œä¸ºç¬¬ä¸‰æ®µyieldä»£ç çš„è¿”å›å€¼
>         creatFuntion.next(data);
>    })
>};
>
>// åˆ›å»ºç”Ÿæˆå™¨å‡½æ•°ï¼›
>function* getData() {
>    // æ­¤æ—¶è·å–äº†creatFuntion.next(data)ä¼ è¿‡æ¥çš„â€˜ç”¨æˆ·æ•°æ®â€™ï¼›
>    let one = yield user();
>    console.log(one);
>    // æ­¤æ—¶è·å–äº†creatFuntion.next(data)ä¼ è¿‡æ¥çš„'è®¢å•æ•°æ®'ï¼›
>    let two = yield order();
>    console.log(two);
>    // æ­¤æ—¶è·å–äº†creatFuntion.next(data)ä¼ è¿‡æ¥çš„è®¢å•çš„'å•†å“æ•°æ®'ï¼›
>    let three = yield goods(); 
>    console.log(three);
>};
>
>let creatFuntion = getData();
>// ç”Ÿæˆå™¨å‡½æ•°è¦ç”¨.next()è°ƒç”¨æ‰ä¼šç”Ÿæ•ˆï¼Œè¿™æ˜¯ç¬¬ä¸€æ¬¡è°ƒnextï¼ˆï¼‰
>creatFuntion.next(); 
>```



### Promise

>[ES6å…¥é—¨æ•™ç¨‹](https://es6.ruanyifeng.com)
>
>ES6å¼•å…¥çš„å¼‚æ­¥ç¼–ç¨‹çš„æ–°çš„è§£å†³æ–¹æ¡ˆï¼Œè¯­æ³•ä¸Š`Promise`æ˜¯ä¸€ä¸ªæ„é€ å‡½æ•°ï¼›
>
>ç”¨æ¥å°è£…å¼‚æ­¥ç¼–ç¨‹ï¼Œå¹¶ä¸”å¯ä»¥è·å–å…¶æˆåŠŸæˆ–å¤±è´¥çš„ç»“æœï¼›
>
>`Promise`ä¸æ˜¯å¼‚æ­¥å‡½æ•°ï¼Œä¸€èˆ¬é‡Œé¢å°è£…çš„æ‰æ˜¯å¼‚æ­¥ï¼›
>
>```javascript
>var fs = require('fs');
>// åˆ›å»ºä¸€ä¸ªPromiseæ„é€ å‡½æ•°å®ä¾‹åŒ–çš„å¯¹è±¡ï¼›
>const p_1 = new Promise((resolve, reject) => {
>      // å‡½æ•°ä½“å†…è¿›è¡Œå¼‚æ­¥æ“ä½œï¼›
>      fs.readFile('./data.json',function(error,data){
>         if (error){
>           reject(error);
>         } else {
>           resolve(data);
>         }
>      })
>})
>// resolveï¼ˆâ€˜æ•°æ®â€™ï¼‰ï¼šå¼‚æ­¥æ“ä½œæˆåŠŸæ—¶ï¼Œä½¿ç”¨çš„æ–¹æ³•ï¼›
>// rejectï¼ˆâ€˜æ•°æ®â€™ï¼‰ï¼šå¼‚æ­¥æ“ä½œå¤±è´¥æ—¶ï¼Œä½¿ç”¨çš„æ–¹æ³•ï¼›
>
>const p_2 = new Promise((resolve, reject) => {
>      // å‡½æ•°ä½“å†…è¿›è¡Œå¼‚æ­¥æ“ä½œï¼›
>      fs.readFile('./data_1.json',function(error,data){
>         if (error){
>           reject(error);
>         } else {
>           resolve(data);
>         }
>      })
>})
>
>// è°ƒç”¨thenæ–¹æ³•ï¼š
>
>// thenæ–¹æ³•çš„è¿”å›ç»“æœæ˜¯Promiseçš„å®ä¾‹åŒ–å¯¹è±¡ï¼Œå¯¹è±¡çš„çŠ¶æ€ç”±æ„é€ å‡½æ•°çš„æ‰§è¡Œç»“æœå†³å®šï¼›
>
>// æ„é€ å‡½æ•°è¿”å›çš„æ˜¯é Promise å¯¹è±¡ç±»å‹çš„æ•°æ®ï¼ŒçŠ¶æ€ä¸ºæˆåŠŸï¼Œè¿”å›å€¼ä¸ºå¯¹è±¡returnçš„æˆåŠŸï¼ˆresolveï¼ˆï¼‰ï¼‰çš„å€¼ï¼›
>p_1.then(function(value){
>      console.log(value);
>      // return 'successful!';
>
>      // è§£å†³å›è°ƒåœ°ç‹±çš„é—®é¢˜ï¼Œé“¾å¼è°ƒç”¨ï¼›
>      return p_2; // p_2 æ˜¯ä¸€ä¸ª Promise å®ä¾‹å¯¹è±¡ï¼›
>      // å½“ return ä¸€ä¸ª Promise å®ä¾‹å¯¹è±¡æ—¶ï¼Œåç»­çš„ then æ–¹æ³•ä¸­çš„ä¸¤ä¸ªå‚æ•°ä¼šå¯¹åº” P_2 çš„ resolve() å’Œ reject()ï¼›
>},function(reason){
>      console.error(reason);
>      return 'error!';
>}).then(function(value){
>      return value;
>},function(reason){
>      return reason;
>})
>
>
>// thenï¼ˆfunctionï¼ˆvalueï¼‰{}ï¼Œfunction(reason){}ï¼‰
>// thenæ–¹æ³•å¯ä»¥æ¥å—ä¸¤ä¸ªå‡½æ•°å‚æ•°ï¼š
>
>// valueå‡½æ•°ï¼šå½¢å‚valueçš„å€¼æ˜¯resolveï¼ˆï¼‰æŠ›å‡ºçš„å€¼ï¼›
>// å‡½æ•°ä½“å†…å†™çš„æ˜¯å¼‚æ­¥æ“ä½œæˆåŠŸåçš„æ“ä½œï¼›
>
>// reasonå‡½æ•°ï¼šå½¢å‚reasonçš„å€¼æ˜¯rejectï¼ˆï¼‰æŠ›å‡ºçš„å€¼ï¼›
>// å‡½æ•°ä½“å†…å†™çš„æ˜¯å¼‚æ­¥æ“ä½œå¤±è´¥åçš„æ“ä½œï¼›
>
>
>// Promise å°è£…æ–‡ä»¶è¯»å–æ–¹æ³•ï¼Œä»£æ›¿è‡ªå·±å†™ callback å›è°ƒå‡½æ•°ï¼›
>var fs = require('fs');
>var promiseReadFile = function(filePath){
>      return new Promise(function(resolve,reject){
>         fs.readFile(filePath,'utf8',function(error,data){
>           if(error){
>             reject(error);
>           } else{
>             resolve(data);
>           }
>         })
>      })
>}
>// then æ–¹æ³•è·å–å¼‚æ­¥æ“ä½œç»“æœï¼›
>promiseReadFile(./data.json).then(function(value){
>      return value;
>},function(reason){
>      return reason;
>})
>```



### Set()

> é›†åˆï¼›
>
> æˆå‘˜çš„å€¼éƒ½æ˜¯å”¯ä¸€çš„ï¼Œæ²¡æœ‰é‡å¤çš„å€¼ï¼›



#### Feature

> è‡ªå¸¦æ•°ç»„å»é‡ï¼Œä½†è¿”å›çš„ç»“æœæ˜¯**å¯¹è±¡**ï¼Œå’Œæ‰©å±•è¿ç®—ç¬¦ï¼ˆ...ï¼‰ä¸€èµ·ä½¿ç”¨è½¬æ¢æˆæ•°ç»„ï¼›
>
> ```javascript
> // 1.æ•°ç»„å»é‡
> let arr = [1, 2, 6, 2, 5, 3, 1, 6, 8, 9, 3];
> let result = [...new Set(arr)];
> console.log(result);
> 
> 
> // 2.æ±‚äº¤é›†
> let arr_1 = [1, 2, 3, 4, 5, 6, 7, 8, 9];
> let arr_2 = [12, 25, 3, 49, 51, 6, 7, 8, 9];
> let result_1 = arr_2.filter((item) => {
>    if (new Set(arr_1).has(item)) {
>        return item;
>    } else {
>        return false;
>    }
> })
> console.log(result_1);
> 
> 
> // 3.æ±‚å¹¶é›†
> let union = [...new Set([...arr_1, ...arr_2])];
> console.log(union);
> 
> 
> // 4.æ±‚å·®é›†ï¼Œç›¸å½“äºäº¤é›†çš„å–å
> let diff = arr_2.filter((item) => {
>    if (!new Set(arr_1).has(item)) {
>        return item;
>    }
> })
> console.log(diff);
> ```



#### Methods

> é›†åˆçš„æ–¹æ³•ï¼›



##### .size

> è¿”å›é›†åˆé‡Œçš„å…ƒç´ ä¸ªæ•°ï¼›
>
> ```javascript
> const array = ['Iphone', 'Huawei', 'Oppo', 'Vivo']
> new Set(array).size // 4
> ```
>



##### .add(item)

> ç»™å½“å‰çš„é›†åˆåœ¨å…ƒç´ çš„æœ€åé¢æ·»åŠ ä¸€ä¸ªæ–°å…ƒç´ ï¼›
>
> å½“æ·»åŠ å®ä¾‹ä¸­å·²ç»å­˜åœ¨çš„å…ƒç´ ï¼Œ`Set`ä¸ä¼šè¿›è¡Œå¤„ç†æ·»åŠ ï¼›
>
> å¯ä»¥è¿›è¡Œ**é“¾å¼**è°ƒç”¨ï¼›
>
> ```javascript
> const array = ['Iphone', 'Huawei', 'Oppo', 'Vivo']
> new Set(array).add('Xiaomi').add('Xiaomi') // åªä¼šæ·»åŠ ä¸€æ¬¡
> ```



##### .delete(item)

> åˆ é™¤å½“å‰é›†åˆé‡Œçš„å…ƒç´ ï¼Œè¿”å›çš„æ˜¯å¸ƒå°”ï¼ˆbooleanï¼‰å€¼ï¼›
>
> ```javascript
> const array = ['Iphone', 'Huawei', 'Oppo', 'Vivo']
> new Set(array).delete('Xiaomi')
> ```



##### .has(item)

> æ£€æµ‹é›†åˆé‡Œæ˜¯å¦åŒ…å«æŸä¸ªå…ƒç´ ï¼Œè¿”å›çš„æ˜¯å¸ƒå°”ï¼ˆbooleanï¼‰å€¼ï¼›
>
> ```javascript
> const array = ['Iphone', 'Huawei', 'Oppo', 'Vivo']
> new Set(array).has('Iphone') // true
> ```



##### .clear()

> æ¸…ç©ºå½“å‰é›†åˆé‡Œçš„æ‰€æœ‰å…ƒç´ ï¼›
>
> ```javascript
> const array = ['Iphone', 'Huawei', 'Oppo', 'Vivo']
> new Set(array).clear()
> // array: []
> ```



### WeakSet()

> **å¼±é›†åˆ**ï¼Œå’Œ Set ç±»ä¼¼ï¼Œéƒ½æ˜¯**ä¸é‡å¤çš„å€¼çš„é›†åˆ**ï¼›
>
> **æˆå‘˜åªèƒ½æ˜¯å¯¹è±¡ï¼Œä¸”éƒ½æ˜¯å¼±å¼•ç”¨çš„å¯¹è±¡**ï¼Œé€‚åˆä¸´æ—¶å­˜æ”¾ä¸€ç»„å¯¹è±¡å’Œè·Ÿå¯¹è±¡ç»‘å®šçš„ä¿¡æ¯ï¼›
>
> WeakSet **æ²¡æœ‰sizeå±æ€§ï¼Œæ— æ³•éå†ï¼ˆæ•…æ²¡æœ‰ forEach æ–¹æ³•)**ï¼Œåªæœ‰ addã€deleteã€hasã€clearï¼›
>
> ```js
> // å®ä¾‹
> const weakSet = new WeakSet()
> const obj = {}
> weakSet.add(obj) // add
> weakSet.add(window)
> 
> weakSet.has(window) // true
> 
> weakSet.delete(window)
> ```



### Map()

> Map ç±»å‹æ˜¯**é”®å€¼å¯¹çš„æœ‰åºåˆ—è¡¨**ï¼Œè€Œ`é”®å’Œå€¼éƒ½å¯ä»¥æ˜¯ä»»æ„ç±»å‹`ï¼›



#### Map/Set

> [^Map]:æ˜¯ä¸€ç§å«åš[^å­—å…¸]çš„æ•°æ®ç»“æ„ï¼Œä»¥**[é”®ï¼Œå€¼]**çš„å½¢å¼å­˜å‚¨ï¼›
> [^Set]:æ˜¯ä¸€ç§å«åš[^é›†åˆ]çš„æ•°æ®ç»“æ„ï¼Œä»¥**[å€¼ï¼Œå€¼]**çš„å½¢å¼å­˜å‚¨å…ƒç´ ï¼›
> [^å­—å…¸]:æ˜¯ä¸€äº›å…ƒç´ çš„é›†åˆï¼Œæ¯ä¸ªå…ƒç´ æœ‰ä¸€ä¸ªç§°ä½œ key çš„åŸŸï¼Œä¸åŒå…ƒç´ çš„ key å„ä¸ç›¸åŒï¼›
> [^é›†åˆ]:æ˜¯ç”±ä¸€å †æ— åºçš„ã€ç›¸å…³è”çš„ï¼Œä¸”ä¸é‡å¤**å†…å­˜**çš„ç»“æ„**æ•°å­¦ä¸­ç§°ä¸ºå…ƒç´ **ç»„æˆçš„ç»„åˆï¼›
>
> éƒ½å¯ä»¥å­˜å‚¨ä¸é‡å¤çš„å€¼ï¼›



#### Methods

> Map å®ä¾‹çš„æ–¹æ³•ï¼›



##### size

> `size`å±æ€§è¿”å› Map ç»“æ„çš„æˆå‘˜æ€»æ•°ï¼›
>
> ```javascript
> const map = new Map()
> map.set('foo', true)
> map.set('bar', false)
> 
> map.size // 2
> ```



##### set()

> è®¾ç½®**é”®å`key`**å¯¹åº”çš„**é”®å€¼ä¸º`value`**ï¼Œç„¶åè¿”å›æ•´ä¸ª Map ç»“æ„ï¼›
>
> å¦‚æœ`key`å·²ç»æœ‰å€¼ï¼Œåˆ™é”®å€¼ä¼šè¢«æ›´æ–°ï¼Œå¦åˆ™å°±æ–°ç”Ÿæˆè¯¥é”®ï¼›
>
> å› ä¸ºæ–¹æ³•è¿”å›çš„æ˜¯å½“å‰`Map`å¯¹è±¡ï¼Œæ‰€ä»¥å¯ä»¥é‡‡ç”¨é“¾å¼å†™æ³•ï¼›
>
> ```javascript
> const m = new Map();
> 
> m.set('edition', 6)        // é”®æ˜¯å­—ç¬¦ä¸²
> m.set(262, 'standard')     // é”®æ˜¯æ•°å€¼
> m.set(undefined, 'nah')    // é”®æ˜¯ undefined
> m.set(1, 'a').set(2, 'b').set(3, 'c') // é“¾å¼æ“ä½œ
> ```



##### get()

> `get()`æ–¹æ³•è¯»å–`key`å¯¹åº”çš„é”®å€¼ï¼Œå¦‚æœæ‰¾ä¸åˆ°`key`ï¼Œè¿”å›`undefined`ï¼›
>
> ```javascript
> const m = new Map();
> 
> m.set('hello', 'Hello ES6!')
> 
> m.get('hello')  // Hello ES6!
> ```



##### has()

> `has()`æ–¹æ³•è¿”å›ä¸€ä¸ª**å¸ƒå°”å€¼**ï¼Œè¡¨ç¤ºæŸä¸ªé”®æ˜¯å¦åœ¨å½“å‰ Map å¯¹è±¡ä¹‹ä¸­ï¼›
>
> ```javascript
> const m = new Map();
> 
> m.set('edition', 6);
> m.set(262, 'standard');
> m.set(undefined, 'nah');
> 
> m.has('edition')     // true
> m.has('years')       // false
> m.has(262)           // true
> m.has(undefined)     // true
> ```



##### delete()

> `delete()`æ–¹æ³•åˆ é™¤æŸä¸ªé”®ï¼Œè¿”å›`true`ï¼Œå¦‚æœåˆ é™¤å¤±è´¥ï¼Œè¿”å›`false`ï¼›
>
> ```javascript
> const m = new Map();
> m.set(undefined, 'nah');
> m.has(undefined)     // true
> 
> m.delete(undefined)
> m.has(undefined)       // false
> ```



##### clear()

> `clear()`æ–¹æ³•æ¸…é™¤æ‰€æœ‰æˆå‘˜ï¼Œæ²¡æœ‰è¿”å›å€¼ï¼›
>
> ```javascript
> let map = new Map();
> map.set('foo', true);
> map.set('bar', false);
> 
> map.size // 2
> map.clear()
> map.size // 0
> ```



##### keys()

> è¿”å› Map é”®åçš„éå†å™¨ï¼›
>
> ```javascript
> const map = new Map([['F', 'no'],['T',  'yes']])
> const mapKeys = map.keys() // ['F', 'T']
> ```



##### values()

> è¿”å› Map é”®å€¼çš„éå†å™¨ï¼›
>
> ```javascript
> const map = new Map([['F', 'no'],['T',  'yes']])
> const mapValues = map.values() // ['no', 'yes']
> ```



##### entries()

> è¿”å› Map æ‰€æœ‰æˆå‘˜çš„éå†å™¨ï¼›
>
> ```javascript
> const map = new Map([['F', 'no'],['T',  'yes']])
> const mapEntries = map.entries() // [['F', 'no'],['T',  'yes']]
> ```



##### forEach()

> éå† Map çš„æ‰€æœ‰æˆå‘˜ï¼›
>
> ```javascript
> const map = new Map([['F', 'no'],['T',  'yes']])
> map.forEach(value, key, map) {
>      console.log(value) // 'no'ã€'yes'
>      console.log(key) // 'F'ã€'T'
>      console.log(map) // [['F', 'no'],['T',  'yes']]
> }
> ```

[^value]:é”®å€¼ï¼›
[^key]:é”®åï¼›
[^map]:Map å¯¹è±¡ï¼›



### WeakMap()

> æ˜¯**å¼±æ˜ å°„**ï¼Œä¸å¯è¿­ä»£é”®ï¼›
>
> **å¼±æ˜ å°„ä¸­çš„é”®åªèƒ½æ˜¯Objectæˆ–è€…ç»§æ‰¿è‡ªObjectçš„ç±»å‹ï¼Œå€¼çš„ç±»å‹æ²¡æœ‰é™åˆ¶**ï¼›
>
> **å¼±é”®**ï¼Œæ„æ€æ˜¯ä¸å±äºæ­£å¼çš„å¼•ç”¨ï¼Œä¸ä¼šé˜»æ­¢åƒåœ¾å›æ”¶ï¼›
>
> å¼±æ˜ å°„ä¸­çš„**å€¼**ä¸æ˜¯ï¼Œåªè¦é”®å­˜åœ¨ï¼Œé”®/å€¼å¯¹å°±ä¼šå­˜åœ¨äºæ˜ å°„ä¸­ï¼›
>
> ```js
> const wm = new WeakMap()
> wm.set({}, "val")
> 
> const container = {
>   key: {}
> }
> wm.set(container.key, "val")
> // è°ƒç”¨ removeReference()ï¼Œä¼šæ‘§æ¯é”®å¯¹è±¡çš„æœ€åä¸€ä¸ªå¼•ç”¨ï¼Œåƒåœ¾å›æ”¶ç¨‹åºå°±å¯ä»¥æŠŠè¿™ä¸ªé”®/å€¼å¯¹æ¸…ç†æ‰
> function removeReference() {
>   container.key = null;
> }
> ```



### æ¨¡å—åŒ–

> æœ€åˆçš„ JavaScript æ˜¯ä¸æ”¯æŒæ¨¡å—åŒ–è¯­æ³•çš„ï¼›
>
> æŒ‡å°†ä¸€ä¸ªå¤§çš„ç¨‹åºæ–‡ä»¶ï¼Œæ‹†åˆ†æˆè®¸å¤šä¸ªå°çš„æ–‡ä»¶ï¼Œç„¶åå†å°†å°æ–‡ä»¶ç»„åˆèµ·æ¥ï¼›



#### å¥½å¤„

> é˜²æ­¢å‘½åå†²çªï¼›
>
> ä»£ç å¯å¤ç”¨ï¼›
>
> è¾ƒé«˜çš„ç»´æŠ¤æ€§ï¼›



#### è¯­æ³•

>`import` ï¼šç”¨äºè¾“å…¥å…¶ä»–æ¨¡å—æä¾›çš„åŠŸèƒ½ï¼›
>
>`export `ï¼šç”¨äºè§„å®šæ¨¡å—çš„å¯¹å¤–æ¥å£ï¼Œå‘å…¶ä»–æ¨¡å—æä¾›ä»€ä¹ˆåŠŸèƒ½ï¼›
>
>```javascript
>// ä»¥ä¸‹éƒ½æ˜¯é™æ€åŠ è½½ï¼šimportå‘½ä»¤ä¼šè¢« JavaScript å¼•æ“é™æ€åˆ†æï¼Œå…ˆäºæ¨¡å—å†…çš„å…¶ä»–è¯­å¥æ‰§è¡Œï¼›
>// æœ‰åˆ©äºç¼–è¯‘å™¨æé«˜æ•ˆç‡ï¼Œä½†æ˜¯æ— æ³•åœ¨è¿è¡Œæ—¶æŒ‰éœ€åŠ è½½æ¨¡å—ï¼›
>
>// æ•´ä½“åŠ è½½ï¼š
>import * as star from './src/module_1.js';
>star.power();
>
>// è§£æ„èµ‹å€¼å½¢å¼å†™æ³•ï¼šé€ä¸€æŒ‡å®šè¦åŠ è½½çš„æ–¹æ³•;
>import {name,who} from './src/module_2.js'
>console.log(name+'\n'+who);
>
>// ä»¥ä¸Šä½¿ç”¨ import å‘½ä»¤çš„æ—¶å€™ï¼Œç”¨æˆ·éœ€è¦çŸ¥é“æ‰€è¦åŠ è½½çš„å˜é‡åæˆ–å‡½æ•°åï¼Œå¦åˆ™æ— æ³•åŠ è½½;
>
>// export default å‘½ä»¤ï¼šä¸ºæ¨¡å—æŒ‡å®šé»˜è®¤è¾“å‡º;
>import feature from './src/module_3.js';
>console.log(feature.height);
>
>
>// åŠ¨æ€åŠ è½½æ¨¡å—ï¼šè¿è¡Œæ—¶æ‰§è¡Œï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä»€ä¹ˆæ—¶å€™è¿è¡Œåˆ°è¿™ä¸€å¥ä»£ç ï¼Œå°±ä¼šåŠ è½½æŒ‡å®šçš„æ¨¡å—ï¼›
>// import(muduleName)å‡½æ•°;è¿”å›ä¸€ä¸ª Primise å¯¹è±¡ï¼›
>
>import('./src/module_4.js');
>```



### async / await

> `async`å‡½æ•°çš„è¿”å›å€¼ä¸º promise å¯¹è±¡ï¼›
>
> å®ƒå°±æ˜¯ Generator ç”Ÿæˆå™¨å‡½æ•°çš„è¯­æ³•ç³–ï¼›
>
> promise å¯¹è±¡çš„ç»“æœç”±`async`å‡½æ•°æ‰§è¡Œçš„è¿”å›å€¼å†³å®šï¼›
>
> ```javascript
> // åˆ©ç”¨ async å’Œ await å‘é€ AJAX è¯·æ±‚
> function sendAJAX(url) {
> return new Promise((resolve,reject)=>{
>  const x = new XMLHttpRequest();
>  x.open('GET', url);
>  x.send();
>  x.onreadystatechange = function() {
>    if (x.readyState === 4) {
>        if (x.status >= 200 && x.status <= 300) {
>           resolve(x.response);
>        } else {
>           reject(x.status);
>        }
>    }
>  }
> })
> }
> 
> // pomise then æ–¹æ³•æµ‹è¯• 
> sendAJAX('https://api.apiopen.top/getloke').then((value)=>{
> console.log(value);
> },(reason)=>{
> console.error(reason);
> });
> 
> // async å’Œ await æ–¹æ³•æµ‹è¯• 
> async function main(){
>  let result = await sendAJAX('https://api.apiopen.top/getloke');
>  console.log(result);
> };
> main();
> ```

> `await`å¿…é¡»å†™åœ¨ async å‡½æ•°ä¸­ï¼›
>
> `await`å³ä¾§çš„è¡¨è¾¾å¼ä¸€èˆ¬ä¸º promise å¯¹è±¡ï¼›
>
> `await`è¿”å›çš„æ˜¯ promise æˆåŠŸçš„å€¼ï¼›
>
> `await`çš„ promise å¤±è´¥äº†ï¼Œå°±ä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œéœ€è¦é€šè¿‡`try...catch`æ•è·å¤„ç†ï¼›



### æ•°ç»„æ–¹æ³•



#### .includes(element)

> æ–¹æ³•ç”¨æ¥æ£€æµ‹æ•°ç»„`array`ä¸­æ˜¯å¦åŒ…å«æŸä¸ªå…ƒç´ `element`ï¼›
>
> è¿”å›å¸ƒå°”ç±»å‹å€¼ï¼›
>
> ```javascript
> array.includes(item);
> // è¿”å›å¸ƒå°”ç±»å‹å€¼ï¼ˆtrue/falseï¼‰
> ```



### å¯¹è±¡æ–¹æ³•



#### Object.keys()

> æ–¹æ³•è¿”å›ä¸€ä¸ª**æ•°ç»„**ï¼›
>
> æˆå‘˜æ˜¯å‚æ•°å¯¹è±¡è‡ªèº«çš„ï¼ˆä¸å«ç»§æ‰¿çš„ï¼‰æ‰€æœ‰å¯éå†`enumerable`å±æ€§çš„é”®åï¼›
>
> ```javascript
> var obj = { foo: 'bar', baz: 42 };
> var nameArr = Object.keys(obj);
> // nameArr = ["foo", "baz"];
> ```



#### Object.values()

> æ–¹æ³•è¿”å›ä¸€ä¸ª**æ•°ç»„**ï¼›
>
> æˆå‘˜æ˜¯å‚æ•°å¯¹è±¡è‡ªèº«çš„ï¼ˆä¸å«ç»§æ‰¿çš„ï¼‰æ‰€æœ‰å¯éå†`enumerable`å±æ€§çš„é”®å€¼ï¼›
>
> ```javascript
> var obj = { foo: 'bar', baz: 42 };
> var valueArr = Object.keys(obj);
> // valueArr = ["bar", 42];
> ```



#### Object.entries()

> æ–¹æ³•è¿”å›ä¸€ä¸ª**äºŒç»´æ•°ç»„**ï¼›
>
> æˆå‘˜æ˜¯å‚æ•°å¯¹è±¡è‡ªèº«çš„ï¼ˆä¸å«ç»§æ‰¿çš„ï¼‰æ‰€æœ‰å¯éå†`enumerable`å±æ€§çš„é”®å€¼å¯¹æ•°ç»„ï¼›
>
> ```javascript
> const obj = { foo: 'bar', baz: 42 };
> let newArr = Object.entries(obj);
> // newArr = [["foo", "bar"], ["baz", 42]];
> ```



#### Object.fromEntries()

> æ˜¯`Object.entries()`çš„é€†æ“ä½œï¼Œç”¨äºå°†ä¸€ä¸ªé”®å€¼å¯¹æ•°ç»„è½¬ä¸ºå¯¹è±¡ï¼›
>
> ```javascript
> var obj = Object.fromEntries([
>   ['foo', 'bar'],
>   ['baz', 42]
> ]);
> // obj = { foo: "bar", baz: 42 };
> ```



#### Object.assign()

> **åˆå¹¶å¯¹è±¡å±æ€§**ï¼›
>
> ç”¨äºå°†æ‰€æœ‰å¯æšä¸¾å±æ€§çš„å€¼ä»ä¸€ä¸ªæˆ–å¤šä¸ª**æºå¯¹è±¡**åˆ†é…åˆ°**ç›®æ ‡å¯¹è±¡**ï¼›
>
> è¿”å›**ç›®æ ‡å¯¹è±¡**ï¼›
>
> è¯­æ³•ï¼š`Object.assign(target, ...sources)`
>
> ```javascript
> const target = { a: 1, b: 2 }
> const source = { b: 4, c: 5 }
> // å°† source å¯¹è±¡åˆå¹¶åˆ° target å¯¹è±¡
> Object.assign(target, source)
> 
> console.log(target)
> // target: { a: 1, b: 4, c: 5 }
> ```





## All in Js

> JavaScript ä¸­çš„æŠ€å·§å’Œå°çŸ¥è¯†ï¼›



### base64 ä¸Šä¼ æ¥å£

> base64 å›¾ç‰‡è½¬ fileï¼Œå¹¶ä¸Šä¼ åˆ°æ¥å£ï¼›
>
> ```js
> const img = document.getElementById('img')
> 
> // base64 --> file
> const base64ToFile = async (imgSrc, imgName) => {
>   const bInfo = await fetch(imgSrc)
>   const imgBlob = await bInfo.blob()
>   return new File([imgBlob], imgName)
> }
> 
> // upload
> const upload = async () => {
>   const file = await base64ToFile(img.src, 'test.png')
>   const form = new FormData()
>   form.append('file', file)
>   fetch('/api/upload', {
>     method: 'POST',
>     body: form
>   }).then(async (res) => {
>     const json = await res.text()
>     console.log(json)
>   })
> }
> ```





## WebStorage

> æµè§ˆå™¨åœ¨æœ¬åœ°å­˜å‚¨ç”¨æˆ·çš„æµè§ˆæ•°æ®ï¼Œæ•°æ®ä¸ä¼šè¢«ä¿å­˜åœ¨æœåŠ¡å™¨ï¼Œè€Œæ˜¯å®¢æˆ·ç«¯ï¼›
>
> æ•°æ®ä»¥`é”®/å€¼`å¯¹å­˜åœ¨ï¼Œç½‘é¡µçš„æ•°æ®åªå…è®¸è¯¥ç½‘é¡µè®¿é—®ä½¿ç”¨ï¼›
>
> `é”®/å€¼`å¯¹æ€»æ˜¯ä»¥**å­—ç¬¦ä¸²**çš„å½¢å¼å­˜å‚¨ï¼›
>
> å­˜å‚¨å†…å®¹çš„å¤§å°ä¸€èˆ¬æ”¯æŒ 5MB å·¦å³ï¼Œä¸åŒæµè§ˆå™¨å¯èƒ½ä¸ä¸€æ ·ï¼›



#### localStorage

> å­˜å‚¨åœ¨ `localStorage` çš„æ•°æ®å¯ä»¥**é•¿æœŸä¿ç•™**ï¼Œé™¤éä¸»åŠ¨çš„å»åˆ é™¤æ•°æ®ï¼›



#### sessionStorage

> å­˜å‚¨åœ¨ `sessionStorage` é‡Œé¢çš„æ•°æ®åœ¨**é¡µé¢ä¼šè¯ç»“æŸæ—¶**ä¼šè¢«æ¸…é™¤ï¼Œå³å…³é—­æµè§ˆå™¨ï¼›



#### ApI

>  `localStorage` å’Œ `sessionStorage` ä½¿ç”¨çš„ API æ˜¯ä¸€æ ·çš„ï¼›
>
>  ```javascript
>  // å®šä¹‰ä¸€ä¸ªè¦å­˜å‚¨çš„æ•°æ®ï¼›
>  let message = {
>   id: '001',
>   title: 'Study Knowledge',
>   done: true
>  }
>  ```



###### setItem()

> æ·»åŠ ä¸€ä¸ªæ•°æ®ï¼›
>
> ```javascript
> localStorage.setItem("message", JSON.stringify(message));
> ```



###### getItem()

> è¯»å–ä¸€ä¸ªæ•°æ®ï¼›
>
> ```javascript
> let data = localStorage.getItem("message");
> ```



###### removeItem()

> åˆ é™¤ä¸€ä¸ªæ•°æ®ï¼›
>
> ```javascript
> localStorage.removeItem("message");
> ```



###### clear()

> æ¸…ç©ºæ‰€æœ‰æ•°æ®ï¼›
>
> ```javascript
> localStorage.clear();
> ```





## ESLint

> ä¸€ä¸ªå¯ç»„è£…çš„`JavaScript`å’Œ`JSX`ä»£ç æ£€æŸ¥å·¥å…·ï¼›
>
> ```js
> // åœ¨æ•´ä¸ªæ–‡ä»¶ä¸­å–æ¶ˆä»£ç è¯­æ³•æ£€æŸ¥
> /* eslint-disable */
> 
> // å¯¹ å½“å‰è¡Œ å–æ¶ˆä»£ç è¯­æ³•æ£€æŸ¥
> // eslint-disable-line
> 
> // å¯¹ ä¸‹ä¸€è¡Œ å–æ¶ˆä»£ç è¯­æ³•æ£€æŸ¥
> // eslint-disable-next-line
> ```



